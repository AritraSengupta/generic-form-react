(this["webpackJsonpreact-generic-form-example"]=this["webpackJsonpreact-generic-form-example"]||[]).push([[0],{171:function(e,t,a){e.exports=a(302)},299:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(43),i=a.n(o),l=a(159),d=a(102),s=(a(303),a(314)),u=a(36),c=a(312),p=a(317),f=a(313),h=a(318),m=a(315),v=a(21);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function w(e,t){try{var a=e()}catch(n){return t(n)}return a&&a.then?a.then(void 0,t):a}var k={required:function(e){return{state:!(e&&e.length),message:"is required"}},maxLength:function(e,t){var a=t.maxLength;return"string"!==typeof e?{state:!0,message:"should be a string"}:{state:e.length>a,message:"can be a maximum length of "+a}},minLength:function(e,t){var a=t.minLength;return"string"!==typeof e?{state:!0,message:"should be a string"}:{state:e.length<a,message:"should be a minimum length of "+a}},number:function(e){return{state:!("number"===typeof e||!Number.isNaN(Number(e))),message:"should be a number"}},max:function(e,t){var a=t.max;return{state:Number(e)>a,message:"cannot be more than "+a}},min:function(e,t){var a=t.min;return{state:Number(e)<a,message:"cannot be less than "+a}},pattern:function(e,t){var a=t.pattern,n=t.message;return{state:!new RegExp(a).test(e),message:n||"does not match pattern "+a}}},x=function(e,t){if("function"===typeof t)return t(e);if(t.type&&k[t.type])return k[t.type](e,t.params);throw new Error("Not a valid Validator")},C=function(e,t){if(Array.isArray(e)){for(var a=null,n=0;n<e.length&&(!a||!a.state);n+=1)a=x(e[n],t);return a}return x(e,t)},I=function(e,t,a){if(Array.isArray(t)){var n=[];return t.forEach((function(t){var r=C(e,t);r.state&&n.push(y({name:a},r))})),n}var r=C(e,t);return r.state?[y({name:a},r)]:[]},D=function(e){return Array.isArray(e)?e.some((function(e){return!(!e||"required"!==e.type)})):!(!e||"required"!==e.type)};function N(e){return e instanceof Date&&!isNaN(e)}function E(e,t,a){return e+"-"+(t+1)+"-"+a}var V=function(e){var t=[];return Object.keys(e).forEach((function(a){var n=[];(e[a]||[]).forEach((function(e){e.state&&n.push(e.name+": "+e.message)})),t.push.apply(t,n)})),t};function O(e){return{formData:e.data.reduce((function(e,t){return e[t.dataId]=t.defaultValue,e}),{}),errors:e.errors||{},dynamicOptions:e.data.reduce((function(e,t){return"dropdown"===t.type&&t.config&&t.config.search&&(e[t.dataId]={options:t.options,callback:t.config.callback,loading:!1}),e}),{})}}var S=function(e){this.title="Generic Conditional Input Form",this.data=function(){return[]},this.reSyncValues=function(e,t,a){return Promise.resolve({values:e,errors:a})},this.props=e},_=function(e,t,a,n,r){if(!e)return!0;if(!N(n)&&!N(r))return!1;var o=N(n)?n:-1/0,i=N(r)?r:1/0,l=new Date(a,t,e);return l>=o&&l<=i},A=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._dayArray=["Su","Mo","Tu","We","Th","Fr","Sa"],t._monthArray=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t._getClassName=function(e,a,n){var r=a[e]||"";if(!r)return"compact";if(n)return"compact disabled";var o=t.props,i=o.month,l=o.year,d=o.selectedOrCurrent;return E(r,i,l)===d?"compact highlight selected":"compact highlight"},t._clickDay=function(e){(0,t.props.onChange)(e,e.target.dataset.name)},t.processCells=function(e){var a=t.props,n=a.highlightedDates,r=a.month,o=a.year,i=a.disableStart,l=a.disableEnd,d=[];return t._dayArray.forEach((function(a){var s=_(e[a],r,o,i,l),u={key:a,content:e[a]||"",className:t._getClassName(a,e,s),onClick:s?null:t._clickDay,"data-name":e[a]},c=n&&n[e[a]];c&&(u[c]=!0),d.push(u)})),d},t.renderBodyRowNew=function(e,a){return{key:"row-"+a,cells:t.processCells(e)}},t}g(t,e);var a=t.prototype;return a.getMonthData=function(e,t){var a=new Date(t,e+1,0);if(N(a)){var n=a.getDate(),r=a.getDay();return this.createMonthObject([{}],r,n)}return null},a.getHeaderRow=function(){return{cells:this._dayArray.map((function(e){return{key:e,style:{padding:0},content:e}}))}},a.createMonthObject=function(e,t,a){if(0===a)return e;var n=this._dayArray[t];return e[0][n]=a,0===t&&a>1?(e.unshift({}),this.createMonthObject(e,6,a-1)):this.createMonthObject(e,t-1,a-1)},a.render=function(){var e=this.props,t=e.month,a=e.year,n=this.getMonthData(t,a),o=this.getHeaderRow();return n?r.a.createElement(s.a,{size:"small",textAlign:"center",collapsing:!0,headerRow:o,renderBodyRow:this.renderBodyRowNew,tableData:n,className:"table-month"}):r.a.createElement("span",null," Invalid Date ")},t}(r.a.Component),P=[["Jan","Feb","Mar"],["Apr","May","Jun"],["Jul","Aug","Sep"],["Oct","Nov","Dec"]],j=function(e){return[[e-7,e-6,e-5],[e-4,e-3,e-2],[e-1,e,e+1],[e+2,e+3,e+4]]},R=function(e){function t(t){var a;return(a=e.call(this,t)||this).processCells=function(e){var t=a.props.selectedMonth,n=[];return e.forEach((function(e){var r={key:e,content:e||"",className:"compact highlight "+(t===e?"selected":""),onClick:a._clickMonth,"data-name":e};n.push(r)})),n},a.renderBodyRowNew=function(e,t){return{key:"row-"+t,cells:a.processCells(e)}},a._clickMonth=a._clickMonth.bind(b(a)),a}g(t,e);var a=t.prototype;return a._clickMonth=function(e){(0,this.props.onSelectMonth)(e.target.dataset.name)},a.render=function(){return r.a.createElement(s.a,{size:"small",textAlign:"center",renderBodyRow:this.renderBodyRowNew,tableData:P,className:"table-month"})},t}(r.a.Component),F=function(e){function t(t){var a;return(a=e.call(this,t)||this).processCells=function(e){var t=a.props.selectedYear,n=[];return e.forEach((function(e){var r={key:e,content:e||"",className:"compact highlight "+(t===e?"selected":""),onClick:a._clickYear,"data-name":e};n.push(r)})),n},a.renderBodyRowNew=function(e,t){return{key:"row-"+t,cells:a.processCells(e)}},a._clickYear=a._clickYear.bind(b(a)),a}g(t,e);var a=t.prototype;return a._clickYear=function(e){(0,this.props.onSelectYear)(parseInt(e.target.dataset.name))},a.render=function(){var e=this.props.year;return r.a.createElement(s.a,{size:"small",textAlign:"center",renderBodyRow:this.renderBodyRowNew,tableData:j(e),className:"table-month"})},t}(r.a.Component),q=function(e){var t=new Date(function(e){var t=e.split("-");return[t[1],t[0],t[2]].join("-")}(e||"")),a=N(t);a||(a=N(t=new Date(e||"")));var n=a?t:new Date(Date.now()),r=n.getMonth(),o=n.getFullYear(),i=n.getDate();return{isValidProvidedDate:a,date:i,month:r,year:o,value:i+"-"+(r+1)+"-"+o}},M=function(e){var t=e.label,a=e.onPrev,n=e.onNext,o=e.onClick;return r.a.createElement("div",{style:{height:20,backgroundColor:"white"}},r.a.createElement(u.a,{name:"arrow left",onClick:a,className:"arrow_icon"}),r.a.createElement("div",{style:{display:"inline-block",margin:"0 40px",cursor:"pointer"},onClick:o},t),r.a.createElement(u.a,{name:"arrow right",onClick:n,className:"arrow_icon"}))},Y=function(e){function t(t){var a;(a=e.call(this,t)||this)._monthArray=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a._yearPrev=function(){var e=a.state.year;e-=1,a.setState({year:e})},a._yearNext=function(){var e=a.state.year;e+=1,a.setState({year:e})},a._monthNext=function(){var e=a.state,t=e.month,n=e.year;(t+=1)>11&&(t=0,n+=1),a.setState({month:t,year:n})},a._monthPrev=function(){var e=a.state,t=e.month,n=e.year;(t-=1)<0&&(t=11,n-=1),a.setState({month:t,year:n})},a._onDateChange=function(e,t){var n=a.state,r=n.month,o=n.year,i=a.props.onDateChange,l=E(t,r,o);i?(i(e,y({},a.props,{value:l})),a.setState({popupOpen:!1})):a.setState({value:l,date:t,popupOpen:!1})},a._onClick=function(){a.setState({popupOpen:!0})},a._handleClose=function(){a.setState({popupOpen:!1})},a._showMonthTable=function(){a.setState({showMonth:!0})},a._hideMonthTable=function(){a.setState({showMonth:!1})},a._showYearTable=function(){a.setState({showYear:!0})},a._onSelectMonth=function(e){a.setState({month:a._monthArray.indexOf(e),showMonth:!1})},a._onSelectYear=function(e){a.setState({year:e,pickerYear:e,showYear:!1})},a._pickerYearPrev=function(){var e=a.state.pickerYear;a.setState({pickerYear:e-12})},a._pickerYearNext=function(){var e=a.state.pickerYear;a.setState({pickerYear:e+12})};var n=q(t.value),r=n.date,o=n.month,i=n.year,l=n.isValidProvidedDate,d=n.value,s=q(t.startDisabled||""),u=q(t.endDisabled||"");return a.state={month:o,year:i,date:r,value:l?d:"",popupOpen:!1,showMonth:!1,showYear:!1,pickerYear:i,startDisabled:s.isValidProvidedDate?s:null,endDisabled:u.isValidProvidedDate?u:null},a._today=E(r,o,i),a}g(t,e),t.getDerivedStateFromProps=function(e,t){var a=e.value,n=e.startDisabled,r=e.endDisabled,o=q(n||null),i=q(r||null),l=t.value,d=t.startDisabled,s=t.endDisabled,u=q(a),c=u.isValidProvidedDate,p=u.value,f={};return a&&a!==l&&(f.value=c?p:a),o.value!==d&&(f.startDisabled=o.isValidProvidedDate?o:null),i.value!==s&&(f.endDisabled=i.isValidProvidedDate?i:null),f};var a=t.prototype;return a.shouldComponentUpdate=function(e,t){var a=this.state,n=a.value,r=a.popupOpen,o=t.popupOpenNew;return n!==e.value||r!==o||!Object(v.isEqual)(this.props,e)},a.render=function(){var e,t=this.state,a=t.month,n=t.year,o=t.date,i=t.value,l=t.popupOpen,d=t.showMonth,s=t.showYear,u=t.pickerYear,f=t.startDisabled,h=t.endDisabled,m=f?new Date(f.year,f.month,f.date):null,v=h?new Date(h.year,h.month,h.date):null,y=r.a.createElement("div",{className:"date_picker_container results transition visible"},r.a.createElement(M,{label:n,onPrev:this._yearPrev,onNext:this._yearNext,onClick:this._showYearTable}),r.a.createElement(M,{label:this._monthArray[a],onPrev:this._monthPrev,onNext:this._monthNext,onClick:this._showMonthTable}),r.a.createElement(A,{disableStart:m,disableEnd:v,month:a,year:n,date:o,onChange:this._onDateChange,selectedOrCurrent:i||this._today})),g=r.a.createElement("div",{className:"date_picker_container results transition visible"},r.a.createElement(M,{label:null,onPrev:this._pickerYearPrev,onNext:this._pickerYearNext,onClick:function(){return null}}),r.a.createElement(F,{onSelectYear:this._onSelectYear,year:u,selectedYear:n})),b=r.a.createElement("div",{className:"date_picker_container results transition visible"},r.a.createElement(R,{onSelectMonth:this._onSelectMonth,selectedMonth:this._monthArray[a]}));e=d?b:s?g:y;var w=r.a.createElement(c.a,{fluid:!0,icon:"calendar",iconPosition:"left",value:i,onClick:this._onClick});return r.a.createElement(p.a,{trigger:w,content:e,on:"click",open:l,onClose:this._handleClose,basic:!0,style:{padding:0},verticalOffset:-10})},t}(r.a.Component),B=function(e){function t(t){var a;return(a=e.call(this,t)||this).validateInput=function(e,t,a,n,r){var o;return!t||Array.isArray(t)&&!t.length?a.errors:y({},a.errors,((o={})[n]=I(e,t,r),o))},a.onAdvanceChange=function(e,t){a.setState((function(a){var n;return{formData:y({},a.formData,(n={},n[e]=t,n))}}))},a.handleInputChange=function(e,t){var n=t.name,r=t.value,o=t.validators,i=t.fieldName;return a.setState((function(e){var t;return{formData:y({},e.formData,(t={},t[n]=r,t)),errors:a.validateInput(r,o,e,n,i)}}))},a.handleCheckChange=function(e,t){var n=t.name,r=t.value,o=t.checked;return a.setState((function(e){var t,a,i,l;return{formData:y({},e.formData,(i={},i[n]={value:y({},e.formData[n].value,(t={},t[r]=o,t)),selected:(l=y({},e.formData[n].value,(a={},a[r]=o,a)),Object.keys(l).filter((function(e){return l[e]})))},i))}}))},a.handleDropdownChange=function(e,t){var n,r,o=t.name,i=t.value,l=t.validators,d=t.multiple,s=t.options,u=t.fieldName;d?(n=s.filter((function(e){return i.includes(e.value)})),r=n.map((function(e){return e&&e.text}))):(n=s.filter((function(e){return e.value===i}))[0],r=n&&n.text),a.setState((function(e){var t;return{formData:y({},e.formData,(t={},t[o]={value:i,selected:n},t)),errors:a.validateInput(r,l,e,o,u)}}))},a.addNewDropdownItem=function(e,t){var n=t.name,r=t.value,o=t.multiple,i=t.validators,l=t.fieldName;if(o)throw new Error("Adding new elements with multiple dropdown not supported yet");var d=a.state.dynamicOptions,s={text:r,value:-1};d[n].options=[].concat(d[n].options,[s]),a.setState((function(e){var t;return{formData:y({},e.formData,(t={},t[n]={value:s.value,selected:s},t)),errors:a.validateInput(r,i,e,n,l),dynamicOptions:d}}))},a.handleFileChange=function(e,t){var n=t.name;a.setState((function(t){var a;return{formData:y({},t.formData,(a={},a[n]=e,a))}}))},a.validateForm=function(){try{var e=a.state,t=e.errors,n=e.formData,r=a.props.data;if(Object.values(t).some((function(e){return e.length})))return Promise.resolve(!0);var o=function(e,t){return e.map((function(e){var a=t[e.dataId];if(a&&"dropdown"===e.type){var n=a.selected;a=Array.isArray(n)?n.map((function(e){return e.text})):n&&n.text}return{id:e.dataId,validators:e.validators,value:a,name:e.fieldName}}))}(r,n),i={};return o.forEach((function(e){e.validators&&(i[e.id]=I(e.value,e.validators,e.name))})),Promise.resolve(new Promise((function(e){a.setState({errors:i},(function(){var t=!!Object.values(i).some((function(e){return e.length}));e(t)}))})))}catch(l){return Promise.reject(l)}},a.state=O(t),a.handleDynamicSearchChange=Object(v.debounce)(a.handleDynamicSearchChange.bind(b(a)),500),a.getFormUnit=a.getFormUnit.bind(b(a)),t.onChange(a.state),a}g(t,e);var a=t.prototype;return a.componentDidUpdate=function(e,t){Object(v.isEqual)(t,this.state)||(0,this.props.onChange)(this.state)},a.UNSAFE_componentWillReceiveProps=function(e){if(!Object(v.isEqual)(e,this.props)){var t=O(e);this.setState(t)}},a.handleDynamicSearchChange=function(e,t){var a=t.name,n=t.multiple,r=t.searchQuery;try{var o=this,i=function(){var e=u[a].selected||[];s[a].options=n?Object(v.uniqBy)([].concat(l,e),"value"):l,s[a].loading=!1,o.setState({dynamicOptions:s})};if(!r.length)return Promise.resolve();var l,d=o.state,s=d.dynamicOptions,u=d.formData;s[a].loading=!0,o.setState({dynamicOptions:s});var c=w((function(){return Promise.resolve(s[a].callback(r)).then((function(e){l=e}))}),(function(){l=[]}));return Promise.resolve(c&&c.then?c.then(i):i())}catch(e){return Promise.reject(e)}},a.getFormUnit=function(e){var t=this,a=this.state,n=a.formData,o=a.errors,i=a.dynamicOptions;return"hidden"===e.type||e.config&&!1===e.config.visible?null:"input"===e.type?r.a.createElement(f.a.Input,y({key:e.dataId,required:D(e.validators),validators:e.validators,name:e.dataId,fieldName:e.fieldName,label:e.fieldName,value:n[e.dataId]||"",error:!(!o[e.dataId]||!o[e.dataId].length),onChange:this.handleInputChange,disabled:e.config&&e.config.disabled},e.config&&e.config.props||{})):"dropdown"===e.type?e.config&&e.config.search?r.a.createElement(f.a.Dropdown,{key:e.dataId,label:e.fieldName,name:e.dataId,fieldName:e.fieldName,options:i[e.dataId].options,multiple:e.config&&e.config.multiple,clearable:e.config&&e.config.clearable,selection:!0,search:!0,placeholder:e.placeholder,value:(n[e.dataId]||{}).value,onChange:this.handleDropdownChange,onSearchChange:this.handleDynamicSearchChange,disabled:e.config&&e.config.disabled||i[e.dataId].loading,loading:i[e.dataId].loading,onAddItem:this.addNewDropdownItem,allowAdditions:e.config&&e.config.allowAdditions,validators:e.validators,error:!(!o[e.dataId]||!o[e.dataId].length),required:D(e.validators)}):r.a.createElement(f.a.Dropdown,{key:e.dataId,label:e.fieldName,name:e.dataId,fieldName:e.fieldName,options:e.options,multiple:e.config&&e.config.multiple,clearable:e.config&&e.config.clearable,selection:!0,placeholder:e.placeholder,value:(n[e.dataId]||{}).value,onChange:this.handleDropdownChange,disabled:e.config&&e.config.disabled,onAddItem:this.addNewDropdownItem,allowAdditions:e.config&&e.config.allowAdditions,loading:e.config&&e.config.loading,validators:e.validators,error:!(!o[e.dataId]||!o[e.dataId].length),required:D(e.validators)}):"radio"===e.type?r.a.createElement(f.a.Group,{key:e.dataId},r.a.createElement(f.a.Field,null," ",e.fieldName),e.options.map((function(a){return r.a.createElement(f.a.Radio,{key:a.value,label:a.text,name:e.dataId,fieldName:e.fieldName,value:a.value,checked:n[e.dataId]===a.value,onChange:t.handleInputChange,validators:e.validators,error:!(!o[e.dataId]||!o[e.dataId].length)})}))):"checkbox"===e.type?r.a.createElement(f.a.Group,{key:e.dataId},r.a.createElement(f.a.Field,null," ",e.fieldName),e.options.map((function(a){return r.a.createElement(f.a.Checkbox,{key:a.value,label:a.text,name:e.dataId,fieldName:e.fieldName,value:a.value,checked:!!((n[e.dataId]||{}).value||{})[a.value],onChange:t.handleCheckChange,validators:e.validators,error:!(!o[e.dataId]||!o[e.dataId].length)})}))):"textarea"===e.type?r.a.createElement(f.a.TextArea,{key:e.dataId,required:D(e.validators),name:e.dataId,fieldName:e.fieldName,label:e.fieldName,value:n[e.dataId]||"",error:!(!o[e.dataId]||!o[e.dataId].length),onChange:this.handleInputChange,validators:e.validators}):"date"===e.type?r.a.createElement(r.a.Fragment,{key:e.dataId},r.a.createElement(f.a.Field,{required:D(e.validators),error:!(!o[e.dataId]||!o[e.dataId].length)},r.a.createElement("label",null,e.fieldName),r.a.createElement(Y,y({key:e.dataId,name:e.dataId,fieldName:e.fieldName,value:n[e.dataId],onDateChange:this.handleInputChange,validators:e.validators},e.config&&e.config.props||{})))):r.a.createElement("div",null,"Improper Config")},a.renderGrid=function(e,t){var a=this,n=function(e,t){for(var a=[],n=0;n<e.length;){for(var r=[],o=0;o<t&&n<e.length;)e[n]&&"hidden"!==e[n].type&&(r.push(e[n]),o+=1),n+=1;r.length&&a.push(r)}return a}(e,t),o=(n[0]||[]).length,i=t<o?t:o;return r.a.createElement(h.a,{columns:i,divided:!0,padded:!0},n.map((function(e){return r.a.createElement(h.a.Row,{key:e.id},e.map((function(e){return r.a.createElement(h.a.Column,{key:e.id},a.getFormUnit(e))})))})))},a.render=function(){var e=this,t=this.state.errors,a=this.props,n=a.data,o=a.loading,i=a.columns,l=i>1;return r.a.createElement(f.a,{loading:!!o,error:t&&Object.values(t).some((function(e){return e.length}))},r.a.createElement(m.a,{error:!0,header:"Please check the form for the following",list:V(t)}),l?this.renderGrid(n,i):n.map((function(t){return e.getFormUnit(t)})))},t}(r.a.Component),T=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={defaultValues:t.defaultValues||{},prevValues:{},errors:t.errors||{},loading:!1},a.formRef=r.a.createRef(),a.onChange=a.onChange.bind(b(a)),a.updateForm=a.updateForm.bind(b(a)),a.validateForm=a.validateForm.bind(b(a)),a}g(t,e);var a=t.prototype;return a.onChange=function(e){var t=e.formData,a=e.errors;try{var n=this,r=function(){n.updateForm(f,i,h,t,m)},o=n.state,i=o.defaultValues,l=o.formData,d=o.errors;if(Object(v.isEqual)(l,t)&&Object(v.isEqual)(a,d))return Promise.resolve();var s=n.props,u=s.data,c=s.reSyncValues,p=u(i),f=function(e,t){var a={};return e.forEach((function(e){if("checkbox"!==e.type)if("files"!==e.type)if("dropdown"!==e.type&&"paymentTerms"!==e.type){var n=Object(v.get)(t,e.dataId,null);a[e.dataId]={defaultValue:n}}else{var r,o,i=Object(v.get)(t,e.dataId,{});if(e.config&&e.config.multiple)r=i&&i.selected||[],o=Object(v.uniqBy)([].concat(e.options||[],r),"value");else{var l=(i||{}).selected;r=l?[l]:[],o=Object(v.uniqBy)([].concat(e.options||[],r),"value")}a[e.dataId]={defaultValue:i,options:o}}else{var d=Object(v.get)(t,e.dataId,[]);a[e.dataId]={defaultValue:d}}else{var s=Object(v.get)(t,e.dataId,{value:[],selected:{}});a[e.dataId]={defaultValue:s}}})),a}(p,t);console.log("mark://","Generic Conditional Form",{newDefaultValues:f,prevForm:p,formData:t,defaultValues:i});var h=a,m=!1,y=function(){if(c){var e=w((function(){return m=!0,n.updateForm(f,i,h,t,m),Promise.resolve(c(f,i,a,t,n.updateForm)).then((function(e){var t=e.values,a=e.errors;m=!1,f=t,h=a}))}),(function(){m=!1,h.generic=!0}));if(e&&e.then)return e.then((function(){}))}}();return Promise.resolve(y&&y.then?y.then(r):r())}catch(g){return Promise.reject(g)}},a.validateForm=function(){return this.formRef.current.validateForm()},a.updateForm=function(e,t,a,n,r){var o=this.props.onChange;this.setState({defaultValues:e,prevValues:t,errors:a,formData:n,loading:r}),o&&o({formData:n,errors:a})},a.render=function(){var e=this.state,t=e.errors,a=e.defaultValues,n=e.prevValues,o=e.loading,i=this.props,l=i.data,d=i.columns,s=l(a,n);return r.a.createElement(B,{columns:d,data:s,onChange:this.onChange,errors:t,loading:o,ref:this.formRef})},t}(r.a.Component);class J extends S{constructor(...e){super(...e),this.title="Basic Example",this.data=(e,t)=>[{dataId:"id",type:"hidden",defaultValue:null},{fieldName:"Date",dataId:"date",type:"date",defaultValue:e.date&&e.date.defaultValue,validators:[{type:"required"}]},{fieldName:"Name",dataId:"name",type:"input",defaultValue:e.name&&e.name.defaultValue,validators:[{type:"required"}]},{fieldName:"TextArea",dataId:"textarea",type:"textarea",defaultValue:e.textarea&&e.textarea.defaultValue,validators:[{type:"required"}]},{fieldName:"Dropdown",dataId:"dropdown",type:"dropdown",defaultValue:e.dropdown&&e.dropdown.defaultValue,config:{clearable:!0},options:[{text:"Option1",value:1},{text:"Option2",value:2}],validators:[{type:"required"}]},{fieldName:"Checkbox",dataId:"checkbox",type:"checkbox",defaultValue:e.checkbox&&e.checkbox.defaultValue,options:[{text:"Checkbox1",value:1},{text:"Checkbox2",value:2}],validators:[{type:"required"}]},{fieldName:"Radio",dataId:"radio",type:"radio",defaultValue:e.radio&&e.radio.defaultValue,options:[{text:"Radio1",value:1},{text:"Radio2",value:2},{text:"Radio3",value:3}]}]}}var U=a(47),G=a.n(U),L=a(74);const z=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(e=>setTimeout(()=>e([{text:"Option1",value:1},{text:"Option2",value:2},{text:"Option3",value:3},{text:"Option4",value:4}]),1e3)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();class W extends S{constructor(...e){super(...e),this.title="Basic Example",this.data=(e,t)=>[{dataId:"id",type:"hidden",defaultValue:null},{fieldName:"Date",dataId:"date",type:"date",defaultValue:e.date&&e.date.defaultValue,validators:[{type:"required"}]},{fieldName:"Name",dataId:"name",type:"input",defaultValue:e.name&&e.name.defaultValue,validators:[{type:"required"}]},{fieldName:"TextArea",dataId:"textarea",type:"textarea",defaultValue:e.textarea&&e.textarea.defaultValue,validators:[{type:"required"}]},{fieldName:"Dropdown",dataId:"dropdown",type:"dropdown",defaultValue:e.dropdown&&e.dropdown.defaultValue,config:{search:!0,callback:z,clearable:!0},options:e.dropdown&&e.dropdown.options||[],validators:[{type:"required"}]},{fieldName:"Checkbox",dataId:"checkbox",type:"checkbox",defaultValue:e.checkbox&&e.checkbox.defaultValue,options:[{text:"Checkbox1",value:1},{text:"Checkbox2",value:2}],validators:[{type:"required"}]},{fieldName:"Radio",dataId:"radio",type:"radio",defaultValue:e.radio&&e.radio.defaultValue,options:[{text:"Radio1",value:1},{text:"Radio2",value:2},{text:"Radio3",value:3}]}]}}const H=function(){var e=Object(L.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(e=>setTimeout(()=>e([{text:"Option1",value:1},{text:"Option2",value:2},{text:"Option3",value:3},{text:"Option4",value:4}]),1e3)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();class Q extends S{constructor(...e){super(...e),this.title="Basic Example",this.data=(e,t)=>{const a=e.date&&e.date.defaultValue,n=a?e.name&&e.name.defaultValue:null,r=n?e.textarea&&e.textarea.defaultValue:null,o=r?e.dropdown&&e.dropdown.defaultValue:{},i=(t&&t.dropdown&&t.dropdown.defaultValue||{}).value!==(o||{}).value?{}:e.checkbox&&e.checkbox.defaultValue||{},l=i.value?e.radio&&e.radio.defaultValue:{};return[{dataId:"id",type:"hidden",defaultValue:null},{fieldName:"Date",dataId:"date",type:"date",defaultValue:a,validators:[{type:"required"}]},{fieldName:"Name",dataId:"name",type:"input",defaultValue:n,config:{visible:!!a},validators:[{type:"required"}]},{fieldName:"TextArea",dataId:"textarea",type:"textarea",config:{visible:!!n},defaultValue:r,validators:[{type:"required"}]},{fieldName:"Dropdown",dataId:"dropdown",type:"dropdown",defaultValue:o,config:{search:!0,callback:H,clearable:!0,visible:!!r},options:e.dropdown&&e.dropdown.options||[],validators:[{type:"required"}]},{fieldName:"Checkbox",dataId:"checkbox",type:"checkbox",defaultValue:i,config:{visible:!!o.value},options:[{text:"Checkbox1",value:1},{text:"Checkbox2",value:2}],validators:[{type:"required"}]},{fieldName:"Radio",dataId:"radio",type:"radio",config:{visible:void 0!==i.selected&&null!==i.selected&&!!i.selected.length},defaultValue:l,options:[{text:"Radio1",value:1},{text:"Radio2",value:2},{text:"Radio3",value:3}]}]}}}a(299),a(300);const K={container:{display:"flex",justifyContent:"center",marginTop:"16px"},formContainer:{width:"400px"},link:{marginRight:"8px",cursor:"pointer"},get linkSelected(){return Object(d.a)(Object(d.a)({},this.link),{},{color:"black",fontWeight:600})}},X={basic:{header:"Basic Form Example",description:"This is a basic fprm example with validation."},async:{header:"Dropdown with Asynchronous Values",description:"The dropdown options are loaded dynamically from backend"},conditional1:{header:"Conditional Form Basic",description:"The form is loaded conditionally based on the current state of the form"}};var Z=()=>{const e=Object(n.useState)("basic"),t=Object(l.a)(e,2),a=t[0],o=t[1],i=new J,d=new W,s=new Q,u=e=>e===a?K.linkSelected:K.link;return r.a.createElement("div",{style:K.container},r.a.createElement("div",{style:K.formContainer},r.a.createElement("div",null,r.a.createElement("a",{onClick:()=>o("basic"),style:u("basic")},"Basic"),"|",r.a.createElement("a",{onClick:()=>o("async"),style:u("async")},"  Async "),"|",r.a.createElement("a",{onClick:()=>o("conditional1"),style:u("conditional1")},"  Conditional "),"|",r.a.createElement("hr",null)),r.a.createElement("div",null,r.a.createElement("h3",null,X[a].header),r.a.createElement("span",null,X[a].description)),"basic"===a&&r.a.createElement(T,{data:i.data}),"async"===a&&r.a.createElement(T,{data:d.data}),"conditional1"===a&&r.a.createElement(T,{data:s.data})))};a(301);i.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.af8c29ee.chunk.js.map